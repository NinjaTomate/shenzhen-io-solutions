# Input variables
# P_BUTTON
# P_ORACLE

# Output variables
# P_DISPLAY_0
# P_DISPLAY_1
# P_DISPLAY_2
# P_DISPLAY_3
# P_DISPLAY_4
# P_DISPLAY_5

# Thoughts
- Need to save oracle data in memory somehow
    - Maybe directly to pins via DX300?

# Gist - Too bulky
3 controllers

Controller 1:

When button is pressed
  Send X signal to child #1
  Sleep 3
  Send X signal to child #2

Child 1:

When X signal
  Reset acc
  3 times
    DST set to ACC from oracle
    Sleep
  Sleep 3
  Flush to DX300

Child 2:

When X signal
  Reset acc
  3 times
    DST set to ACC from oracle
    Sleep
  No sleep (this is second half)
  Flush to DX300

# Gist - Too long for 1 controller
1 controller

If button is pressed
  Reset acc
  3 times
    DST set to ACC from oracle
    Sleep
  Flush to DX300 (already bad)
  Reset acc
  3 times
    DST set to ACC from oracle
    Sleep
  Flush to DX300 (already bad)
Sleep

teq p1 100
+ dst 0 p0
+ slp 1
+ dst 1 p0
+ slp 1
+ dst 2 p0
+ slp 1
+ mov acc dat
+ mov 000 acc
+ dst 0 p0
+ slp 1
+ dst 1 p0
+ slp 1
+ dst 2 p0

# Gist
2 controllers

Controller 1

If button is pressed
  Reset acc
  DST set to ACC from oracle
  Sleep
  DST set to ACC from oracle
  Sleep
  DST set to ACC from oracle
  Trigger Controller 2? (maybe it detects itself?)
  Sleep 3
  Flush to DX300 (already bad)
Sleep

teq p1 100
- jmp SLEEP
mov 000 acc
teq p0 100
+ dst 0 1
slp 1
teq p0 100
+ dst 1 1
slp 1

+ slp 3
+ mov acc x3
SLEEP:
slp 1

Not enough lines again...

# Try it with RAM...

Haha, nope -- not enough space

# Gist
2 controllers
First 3 digits in 1 controller

Then next 3 digits in second

teq p1 100
- jmp SLEEP
teq p0 100
+ dst 0 1
slp 1
teq p0 100
+ dst 1 1
slp 1
teq p0 100
+ dst 2 1
slp 3
mov acc x2
SLEEP:
slp 1

teq p1 100
+ slp 3
- jmp SLEEP
teq p0 100
+ dst 0 1
slp 1
teq p0 100
+ dst 1 1
slp 1
teq p0 100
+ dst 2 1
mov acc x2
SLEEP:
slp 1

TODO: Evens and odds?
TODO: Move first digit overwrite to HEAD label and jump there always? (saves us a sleep)
  Nope, doesn't work due to sleeping too early

Using addition instead of DST
  Didn't work, same lines

teq p1 100
- jmp SLEEP
mov 0 acc
add p0
sub 99
slp 1
add p0
sub 90
slp 1
add p0
slp 3
mov acc x2
SLEEP:
slp 1

TODO: Output lag in 3rd controller?
- Still can't get placement working...

TODO: Maybe replace DX300 with controllers somehow?
